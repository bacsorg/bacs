@PACKAGE_INIT@

if(CMAKE_CURRENT_LIST_DIR STREQUAL @CMAKE_CURRENT_BINARY_DIR@)
    set_and_check(@MODULE_NAME@_MODULE_ROOT ${CMAKE_CURRENT_LIST_DIR})
    set_and_check(@MODULE_NAME@_MODULE_SCRIPTS_DIR ${CMAKE_CURRENT_LIST_DIR}/scripts)
else()
    set_and_check(@MODULE_NAME@_MODULE_ROOT "@PACKAGE_MODULE_ROOT@")
    set_and_check(@MODULE_NAME@_MODULE_SCRIPTS_DIR "@PACKAGE_MODULE_SCRIPTS_DIR@")
endif()

@MODULE_BOOTSTRAP@
bunsan_load_modules(${@MODULE_NAME@_MODULE_SCRIPTS_DIR})
foreach(module @MODULE_INCLUDE_NAMES@)
    message(STATUS "Adding ${@MODULE_NAME@_MODULE_ROOT}/${module} to CMAKE_MODULE_PATH")
    list(APPEND CMAKE_MODULE_PATH ${@MODULE_NAME@_MODULE_ROOT}/${module})
endforeach()
bunsan_list_remove_duplicates(CMAKE_MODULE_PATH)

check_required_components(@MODULE_NAME@)
